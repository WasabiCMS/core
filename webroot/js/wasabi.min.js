require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){(function(b){var c=a("jquery");window.jQuery=c;var d=a("underscore"),e=a("backbone"),f=a("./common/BaseViewFactory"),g=(a("bootstrap"),function(){var b=d.extend({},e.Events),g=new f(b),h=0;return{features:{},modules:{registered:[]},eventBus:b,viewFactory:g,boot:function(){for(var b=0,e=this.modules.registered.length;e>b;b++){var f=this.modules.registered[b],g=f.name,i=f.require,j=f.options;this.modules[g]=a(i),console.log(this.modules),this.modules[g].initialize(j)}c(window).on("resize",function(){clearTimeout(h),h=setTimeout(d.bind(function(){this.eventBus.trigger("window.resize")},this),100)})},registerModule:function(a,b){this.modules.registered.push({name:a,require:a,options:b||{}})},get:function(a){return this.modules[a]?this.modules[a]:void console.debug('module "'+a+" is not registered.")}}}());b.window.WS=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./common/BaseViewFactory":2,backbone:"backbone",bootstrap:"bootstrap",jquery:"jquery",underscore:"underscore"}],2:[function(a,b){var c=a("underscore"),d=function(a){this.eventBus=a,this.registry={factory:this}};d.prototype=c.extend({},{register:function(a,b){return this.registry[a]=b,this.registry[a]},create:function(a,b){var d,e;return b=b||{},e=c.extend(b,this.registry,{eventBus:this.eventBus}),d=a,d.prototype.eventBus=this.eventBus,new d(e)}}),b.exports=d},{underscore:"underscore"}],3:[function(a,b){var c=a("./views/Menu"),d=a("./views/NavigationToggle"),e=function(){this.menu=WS.viewFactory.create(c,{}),this.navigationToggle=WS.viewFactory.create(d,{})};b.exports=e},{"./views/Menu":4,"./views/NavigationToggle":5}],4:[function(a,b){(function(c){var d=a("jquery"),e=a("wasabi.BaseView"),f=(c.window.WS,{collapsedClass:"collapsed",openClass:"open",popoutClass:"popout"}),g=function(a,b){var c=d(a.target);return c.is("li")?c:(b=b||"",c.closest("li"+b))};b.exports=e.extend({el:"#backend-menu > ul",events:function(){var a={"click > li:has(ul) > a":"onMainItemClick"};return this.isCollapsed&&(a=d.extend(a,{"mouseenter > li":"onMainItemMouseenter","mouseleave > li":"onMainItemMouseleave"})),a},globalEvents:{"window.resize":"collapseMenu"},isCollapsed:!1,options:{},initialize:function(a){this.options=d.extend({},f,a),this.$("> li").filter(".active").prev().addClass("prev-active"),this.collapseMenu()},collapseMenu:function(){var a=this.isCollapsed;this.isCollapsed="none"===this.$("> li > a > .item-name").first().css("display"),this.isCollapsed?(this.$el.addClass(this.options.collapsedClass),this.isCollapsed!==a&&this.delegateEvents(this.events())):(this.$el.removeClass(this.options.collapsedClass),this.delegateEvents(this.events()))},onMainItemClick:function(a){g(a).toggleClass(this.options.openClass)},onMainItemMouseenter:function(a){this.isCollapsed&&g(a).addClass(this.options.popoutClass)},onMainItemMouseleave:function(a){this.isCollapsed&&g(a,"."+this.options.popoutClass).removeClass(this.options.popoutClass)},onResize:function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(_.bind(this.collapseMenu,this),100)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:"jquery","wasabi.BaseView":"wasabi.BaseView"}],5:[function(a,b){var c=a("jquery"),d=a("wasabi.BaseView");b.exports=function(){var a=c("body"),b={navClosedClass:"nav-closed"};return d.extend({el:"body > header .toggle-nav",events:{click:"toggleNav"},isClosed:!1,options:{},initialize:function(d){this.options=c.extend({},b,d),this.isClosed=a.hasClass(this.options.navClosedClass)},toggleNav:function(){this.closed?(a.removeClass(this.options.navClosedClass),this.closed=!1):(a.addClass(this.options.navClosedClass),this.closed=!0)}})}()},{jquery:"jquery","wasabi.BaseView":"wasabi.BaseView"}],"wasabi.BaseView":[function(a,b){var c=a("jquery"),d=a("underscore"),e=a("backbone"),f=a("spin.js");e.$=c,function(a){"use strict";a.fullExtend=function(b,c){var d=a.extend.call(this,b,c);if(d.prototype._super=this.prototype,b.events)for(var e in this.prototype.events)d.prototype.events[e]||(d.prototype.events[e]=this.prototype.events[e]);return d}}(e.View),b.exports=e.View.extend({$blockBackdrop:c('<div class="block-backdrop"></div>'),numberOfBlocks:0,spinner:null,delegateEvents:function(a){var b,c,f;e.View.prototype.delegateEvents.call(this,a),this.globalEvents=this.globalEvents||{},"function"==typeof this.globalEvents&&(this.globalEvents=this.globalEvents()),f=[];for(b in this.globalEvents)this.globalEvents.hasOwnProperty(b)&&(c=this.globalEvents[b],f.push(this.eventBus.bind(b,d.bind(this[c],this))));return f},blockThis:function(a){this.numberOfBlocks++;var b=this.$el.offset(),e=this.$el.css("borderLeftWidth"),g=this.$el.css("borderTopWidth"),h=this.$el.innerWidth()+(a.deltaWidth||0),i=this.$el.innerHeight()+(a.deltaHeight||0);""!==e&&(e=parseInt(e.split("px")[0]),b.left+=e),""!==g&&(g=parseInt(g.split("px")[0]),b.top+=g),this.$blockBackdrop.css({position:"absolute",top:b.top,left:b.left,width:h,height:i,backgroundColor:a.backgroundColor||"transparent",opacity:a.opacity||.6,cursor:a.cursor||"wait",zIndex:a.zIndex||9997}).hide().appendTo(c("body")),this.$blockBackdrop.fadeIn(100,c.proxy(function(){this.$blockBackdrop.on("mousedown mouseup keydown keypress keyup touchstart touchend touchmove",d.bind(this.handleBlockedEvent,this)),a.spinner&&a.spinner!==!1&&(this.spinner=this.spinner||new f(a.spinner||!1)),this.spinner&&this.spinner.spin(this.$blockBackdrop.get(0))},this))},unblockThis:function(a){this.numberOfBlocks>=1&&this.numberOfBlocks--,0===this.numberOfBlocks&&(a=a||function(){},this.spinner&&this.spinner.stop(),this.$blockBackdrop.remove(),this.$blockBackdrop.off("mousedown mouseup keydown keypress keyup touchstart touchend touchmove",d.bind(this.handleBlockedEvent,this)),"function"==typeof a&&a.call(this))},handleBlockedEvent:function(a){a.preventDefault(),a.stopPropagation()},destroy:function(){this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),e.View.prototype.remove.call(this)}})},{backbone:"backbone",jquery:"jquery","spin.js":"spin.js",underscore:"underscore"}],"wasabi.SpinPresets":[function(a,b){b.exports={small:{lines:12,length:0,width:3,radius:6},medium:{lines:9,length:4,width:2,radius:3},large:{lines:11,length:7,width:2,radius:5},mega:{lines:11,length:10,width:3,radius:8}}},{}],"wasabi/core":[function(a,b){function c(){h.ajaxSetup({dataType:"json"}),h(k).ajaxSuccess(d).ajaxError(e)}function d(a,b){if(200==b.status&&"OK"==b.statusText){var c=h.parseJSON(b.responseText)||{};"undefined"!=typeof c.status&&("undefined"!=typeof c.flash&&f(c.flash),"undefined"!=typeof c.redirect&&(j.location=c.redirect))}}function e(a,b){var c;401==b.status&&(c=h.parseJSON(b.responseText)||{},"undefined"!=typeof c.name&&(confirm(c.name),j.location.reload())),500==b.status&&(c=h.parseJSON(b.responseText)||{},"undefined"!=typeof c.name&&f({before:"div.title-pad","class":"error",message:c.name}))}function f(a){var b=a.before||!1,c=a.after||!1,d=a.message,e=a["class"]?"flash-"+a["class"]:"flash-success",f=!1,g=h("<div/>").addClass(e).html(d);b?(f=h(b),f.prev("."+e).remove(),g.insertBefore(f)):c&&(f=h(c),f.next("."+e).remove(),g.insertAfter(f))}function g(){this.components.navigation=new i}var h=a("jquery"),i=(a("underscore"),a("./components/navigation/navigation")),j=window,k=document;b.exports={options:{},w:null,d:null,$html:null,$body:null,views:[],collections:[],models:[],resizeTimeout:0,components:{},initialize:function(a){this.options=a||{},this.w=j,this.d=k,this.$html=h("html"),this.$body=h("body"),c.call(this),g.call(this)}}},{"./components/navigation/navigation":3,jquery:"jquery",underscore:"underscore"}]},{},[1]);